name: ci
on: [push]
jobs:
  build:
    name: build
    runs-on: macos-11
    steps:
    - run: ls
    - run: git clone https://github.com/chrismaltby/gb-studio.git
    - working-directory: gb-studio
      run: |
        ls
        yarn
        pwd
    - working-directory: gb-studio
      run: |
        npm run make:cli
        ls 
        pwd
    - working-directory: gb-studio
      run: yarn link
    #- name: Make executeable
    #  run: chmod +x ./gb-studio-cli 
    - uses: actions/checkout@v2
    - run: |
        ls
        pwd
        yarn link "gb-studio"
    - run: gb-studio-cli make:rom project.gbsproj out/game.gb
    - run : |
        pwd
        ls

     
    